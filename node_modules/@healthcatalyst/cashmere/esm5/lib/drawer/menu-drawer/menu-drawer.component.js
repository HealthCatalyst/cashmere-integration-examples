/**
 * @fileoverview added by tsickle
 * Generated from: lib/drawer/menu-drawer/menu-drawer.component.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
import { ChangeDetectionStrategy, Component, ContentChild, ElementRef, forwardRef, HostBinding, Input, Renderer2, ViewEncapsulation } from '@angular/core';
import { Drawer } from '../drawer.component';
import { animate, state, style, transition, trigger } from '@angular/animations';
import { DrawerToolbar } from './drawer-header.directive';
/** @type {?} */
var drawerThemes = ['dark-theme'];
/**
 * @param {?} menuTheme
 * @return {?}
 */
export function validateMenuDrawerTheme(menuTheme) {
    if (!drawerThemes.some((/**
     * @param {?} theme
     * @return {?}
     */
    function (theme) { return theme === menuTheme; }))) {
        throw new Error('Unsupported menuTheme: ' + menuTheme);
    }
}
/** @type {?} */
var openStateAnimation = '400ms cubic-bezier(0.25, 0.8, 0.25, 1)';
/**
 * Menu drawer that provides default themes
 */
var MenuDrawer = /** @class */ (function (_super) {
    tslib_1.__extends(MenuDrawer, _super);
    function MenuDrawer(elementRef, renderer) {
        var _this = _super.call(this, elementRef) || this;
        _this.renderer = renderer;
        _this._previousTheme = null;
        _this._hostClass = true;
        _this.menuTheme = 'dark-theme';
        return _this;
    }
    Object.defineProperty(MenuDrawer.prototype, "menuTheme", {
        /** Sets menu style of the drawer. Choose from: `'dark-theme'` */
        get: /**
         * Sets menu style of the drawer. Choose from: `'dark-theme'`
         * @return {?}
         */
        function () {
            return this._menuTheme;
        },
        set: /**
         * @param {?} menuStyle
         * @return {?}
         */
        function (menuStyle) {
            validateMenuDrawerTheme(menuStyle);
            this._setThemeClass(this._themeClass(menuStyle));
            this._previousTheme = this._menuTheme;
            this._menuTheme = menuStyle;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @return {?}
     */
    MenuDrawer.prototype.ngAfterContentInit = /**
     * @return {?}
     */
    function () {
        _super.prototype.ngAfterContentInit.call(this);
        if (this.toolbar != null) {
            this.renderer.addClass(this.elementRef.nativeElement, 'hc-drawer-toolbar-visible');
        }
        else {
            this.renderer.removeClass(this.elementRef.nativeElement, 'hc-drawer-toolbar-visible');
        }
    };
    /**
     * @private
     * @param {?} menuStyle
     * @return {?}
     */
    MenuDrawer.prototype._themeClass = /**
     * @private
     * @param {?} menuStyle
     * @return {?}
     */
    function (menuStyle) {
        return "hc-menu-drawer-" + menuStyle;
    };
    /**
     * @private
     * @param {?} className
     * @return {?}
     */
    MenuDrawer.prototype._setThemeClass = /**
     * @private
     * @param {?} className
     * @return {?}
     */
    function (className) {
        if (this._previousTheme !== className) {
            if (this._previousTheme || this._menuTheme) {
                this.renderer.removeClass(this.elementRef.nativeElement, this._previousTheme || this.menuTheme);
            }
            this.renderer.addClass(this.elementRef.nativeElement, className);
        }
    };
    MenuDrawer.decorators = [
        { type: Component, args: [{
                    selector: 'hc-menu-drawer',
                    template: "<div class=\"hc-menu-drawer-toolbar-container\">\n    <ng-content select=\"[hcDrawerToolbar]\"></ng-content>\n</div>\n<div class=\"hc-menu-drawer-item-container\">\n    <div class=\"drawer-menu\">\n        <ng-content select=\"hc-drawer-item\"></ng-content>\n    </div>\n</div>\n",
                    encapsulation: ViewEncapsulation.None,
                    animations: [
                        trigger('openState', [
                            state('open-left, open-right, open-instant', style({
                                transform: 'translate3d(0, 0, 0)',
                                visibility: 'visible'
                            })),
                            state('void', style({
                                'box-shadow': 'none',
                                visibility: 'hidden'
                            })),
                            transition('void => open-instant', animate('0ms')),
                            transition('open-instant => void', animate(openStateAnimation)),
                            transition('void => open-left', [
                                animate('0ms', style({ transform: 'translate3d(-100%, 0, 0)' })),
                                animate(openStateAnimation)
                            ]),
                            transition('open-left => void', [
                                animate(openStateAnimation, style({ transform: 'translate3d(-100%, 0, 0)' }))
                            ]),
                            transition('void => open-right', [
                                animate('0ms', style({ transform: 'translate3d(100%, 0, 0)' })),
                                animate(openStateAnimation)
                            ]),
                            transition('open-right => void', [
                                animate(openStateAnimation, style({ transform: 'translate3d(100%, 0, 0)' }))
                            ])
                        ])
                    ],
                    changeDetection: ChangeDetectionStrategy.OnPush,
                    providers: [{ provide: Drawer, useExisting: forwardRef((/**
                             * @return {?}
                             */
                            function () { return MenuDrawer; })) }],
                    styles: [".hc-drawer,.hc-menu-drawer{bottom:0;box-sizing:border-box;display:block;height:100%;outline:0;overflow-y:auto;position:absolute;top:0;z-index:3}.hc-drawer.hc-drawer-opened:not(.drawer-side),.hc-drawer.hc-drawer-opening:not(.drawer-side),.hc-menu-drawer.hc-drawer-opened:not(.drawer-side),.hc-menu-drawer.hc-drawer-opening:not(.drawer-side){box-shadow:0 8px 10px -5px rgba(0,0,0,.2),0 16px 24px 2px rgba(0,0,0,.14),0 6px 30px 5px rgba(0,0,0,.12)}.hc-drawer-right{right:0}.hc-drawer-container{position:relative;z-index:1;box-sizing:border-box;display:block;overflow:hidden}.hc-drawer-content{position:relative;z-index:1;display:block;height:100%;left:0;overflow:auto;padding:10px 20px;right:0;-webkit-transition-duration:.4s;transition-duration:.4s;-webkit-transition-property:margin-left,margin-right,-webkit-transform;transition-property:transform,margin-left,margin-right,-webkit-transform;-webkit-transition-timing-function:cubic-bezier(.25,.8,.25,1);transition-timing-function:cubic-bezier(.25,.8,.25,1)}", ".hc-menu-drawer{display:block;overflow:hidden}.hc-menu-drawer-item-container{background-color:#384655;height:100%;overflow-y:auto}.hc-drawer-toolbar-visible .hc-menu-drawer-item-container{height:calc(100% - 52px)}.hc-menu-drawer-toolbar-container{background-color:#2e3946;color:#00aeff;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;font-size:18px}.hc-drawer-toolbar{-webkit-box-align:center;align-items:center;display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;height:52px;max-height:52px;overflow:hidden;padding:15px 28px 15px 15px}.hc-drawer-item{color:#fff;display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-align:center;align-items:center;padding:15px 28px 15px 15px;cursor:pointer;width:100%}.hc-drawer-item:last-child hr{display:none}.hc-drawer-item:hover{background-color:#323f4d}.hc-drawer-divider{border:none;background-color:#6b737b;height:1px;margin:0 28px 0 0}.hc-drawer-right .hc-drawer-divider{margin:0 0 0 15px}"]
                }] }
    ];
    /** @nocollapse */
    MenuDrawer.ctorParameters = function () { return [
        { type: ElementRef },
        { type: Renderer2 }
    ]; };
    MenuDrawer.propDecorators = {
        toolbar: [{ type: ContentChild, args: [DrawerToolbar, { static: false },] }],
        menuTheme: [{ type: Input }],
        _hostClass: [{ type: HostBinding, args: ['class.hc-menu-drawer',] }]
    };
    return MenuDrawer;
}(Drawer));
export { MenuDrawer };
if (false) {
    /**
     * @type {?}
     * @private
     */
    MenuDrawer.prototype._previousTheme;
    /** @type {?} */
    MenuDrawer.prototype.toolbar;
    /**
     * @type {?}
     * @private
     */
    MenuDrawer.prototype._menuTheme;
    /** @type {?} */
    MenuDrawer.prototype._hostClass;
    /**
     * @type {?}
     * @private
     */
    MenuDrawer.prototype.renderer;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWVudS1kcmF3ZXIuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGhlYWx0aGNhdGFseXN0L2Nhc2htZXJlLyIsInNvdXJjZXMiOlsibGliL2RyYXdlci9tZW51LWRyYXdlci9tZW51LWRyYXdlci5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsT0FBTyxFQUVILHVCQUF1QixFQUN2QixTQUFTLEVBQ1QsWUFBWSxFQUNaLFVBQVUsRUFDVixVQUFVLEVBQ1YsV0FBVyxFQUNYLEtBQUssRUFDTCxTQUFTLEVBQ1QsaUJBQWlCLEVBQ3BCLE1BQU0sZUFBZSxDQUFDO0FBQ3ZCLE9BQU8sRUFBQyxNQUFNLEVBQUMsTUFBTSxxQkFBcUIsQ0FBQztBQUMzQyxPQUFPLEVBQUMsT0FBTyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsVUFBVSxFQUFFLE9BQU8sRUFBQyxNQUFNLHFCQUFxQixDQUFDO0FBQy9FLE9BQU8sRUFBQyxhQUFhLEVBQUMsTUFBTSwyQkFBMkIsQ0FBQzs7SUFFbEQsWUFBWSxHQUFHLENBQUMsWUFBWSxDQUFDOzs7OztBQUVuQyxNQUFNLFVBQVUsdUJBQXVCLENBQUMsU0FBUztJQUM3QyxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUk7Ozs7SUFBQyxVQUFBLEtBQUssSUFBSSxPQUFBLEtBQUssS0FBSyxTQUFTLEVBQW5CLENBQW1CLEVBQUMsRUFBRTtRQUNsRCxNQUFNLElBQUksS0FBSyxDQUFDLHlCQUF5QixHQUFHLFNBQVMsQ0FBQyxDQUFDO0tBQzFEO0FBQ0wsQ0FBQzs7SUFFSyxrQkFBa0IsR0FBRyx3Q0FBd0M7Ozs7QUFHbkU7SUEwQ2dDLHNDQUFNO0lBeUJsQyxvQkFBWSxVQUFzQixFQUFVLFFBQW1CO1FBQS9ELFlBQ0ksa0JBQU0sVUFBVSxDQUFDLFNBRXBCO1FBSDJDLGNBQVEsR0FBUixRQUFRLENBQVc7UUF4QnZELG9CQUFjLEdBQWtCLElBQUksQ0FBQztRQXNCN0MsZ0JBQVUsR0FBRyxJQUFJ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QUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxFQUFFLFNBQVMsRUFBRSx5QkFBeUIsRUFBQyxDQUFDLENBQUM7Z0NBQzlELE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQzs2QkFDOUIsQ0FBQzs0QkFDRixVQUFVLENBQUMsb0JBQW9CLEVBQUU7Z0NBQzdCLE9BQU8sQ0FBQyxrQkFBa0IsRUFBRSxLQUFLLENBQUMsRUFBRSxTQUFTLEVBQUUseUJBQXlCLEVBQUUsQ0FBQyxDQUFDOzZCQUMvRSxDQUFDO3lCQUNMLENBQUM7cUJBQ0w7b0JBQ0QsZUFBZSxFQUFFLHVCQUF1QixDQUFDLE1BQU07b0JBQy9DLFNBQVMsRUFBRSxDQUFDLEVBQUMsT0FBTyxFQUFFLE1BQU0sRUFBRSxXQUFXLEVBQUUsVUFBVTs7OzRCQUFDLGNBQU0sT0FBQSxVQUFVLEVBQVYsQ0FBVSxFQUFDLEVBQUMsQ0FBQzs7aUJBQzVFOzs7O2dCQS9ERyxVQUFVO2dCQUlWLFNBQVM7OzswQkErRFIsWUFBWSxTQUFDLGFBQWEsRUFBRSxFQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUM7NEJBSTNDLEtBQUs7NkJBZUwsV0FBVyxTQUFDLHNCQUFzQjs7SUE4QnZDLGlCQUFDO0NBQUEsQUE5RkQsQ0EwQ2dDLE1BQU0sR0FvRHJDO1NBcERZLFVBQVU7Ozs7OztJQUNuQixvQ0FBNkM7O0lBRTdDLDZCQUN1Qjs7Ozs7SUFnQnZCLGdDQUEyQjs7SUFFM0IsZ0NBQ2tCOzs7OztJQUVrQiw4QkFBMkIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICAgIEFmdGVyQ29udGVudEluaXQsXG4gICAgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksXG4gICAgQ29tcG9uZW50LFxuICAgIENvbnRlbnRDaGlsZCxcbiAgICBFbGVtZW50UmVmLFxuICAgIGZvcndhcmRSZWYsXG4gICAgSG9zdEJpbmRpbmcsXG4gICAgSW5wdXQsXG4gICAgUmVuZGVyZXIyLFxuICAgIFZpZXdFbmNhcHN1bGF0aW9uXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtEcmF3ZXJ9IGZyb20gJy4uL2RyYXdlci5jb21wb25lbnQnO1xuaW1wb3J0IHthbmltYXRlLCBzdGF0ZSwgc3R5bGUsIHRyYW5zaXRpb24sIHRyaWdnZXJ9IGZyb20gJ0Bhbmd1bGFyL2FuaW1hdGlvbnMnO1xuaW1wb3J0IHtEcmF3ZXJUb29sYmFyfSBmcm9tICcuL2RyYXdlci1oZWFkZXIuZGlyZWN0aXZlJztcblxuY29uc3QgZHJhd2VyVGhlbWVzID0gWydkYXJrLXRoZW1lJ107XG5cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZU1lbnVEcmF3ZXJUaGVtZShtZW51VGhlbWUpIHtcbiAgICBpZiAoIWRyYXdlclRoZW1lcy5zb21lKHRoZW1lID0+IHRoZW1lID09PSBtZW51VGhlbWUpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVW5zdXBwb3J0ZWQgbWVudVRoZW1lOiAnICsgbWVudVRoZW1lKTtcbiAgICB9XG59XG5cbmNvbnN0IG9wZW5TdGF0ZUFuaW1hdGlvbiA9ICc0MDBtcyBjdWJpYy1iZXppZXIoMC4yNSwgMC44LCAwLjI1LCAxKSc7XG5cbi8qKiBNZW51IGRyYXdlciB0aGF0IHByb3ZpZGVzIGRlZmF1bHQgdGhlbWVzICovXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ2hjLW1lbnUtZHJhd2VyJyxcbiAgICB0ZW1wbGF0ZVVybDogJ21lbnUtZHJhd2VyLmNvbXBvbmVudC5odG1sJyxcbiAgICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lLFxuICAgIHN0eWxlVXJsczogWycuLi9kcmF3ZXIuY29tcG9uZW50LnNjc3MnLCAnbWVudS1kcmF3ZXIuY29tcG9uZW50LnNjc3MnXSxcbiAgICBhbmltYXRpb25zOiBbXG4gICAgICAgIHRyaWdnZXIoJ29wZW5TdGF0ZScsIFtcbiAgICAgICAgICAgIHN0YXRlKFxuICAgICAgICAgICAgICAgICdvcGVuLWxlZnQsIG9wZW4tcmlnaHQsIG9wZW4taW5zdGFudCcsXG4gICAgICAgICAgICAgICAgc3R5bGUoe1xuICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUzZCgwLCAwLCAwKScsXG4gICAgICAgICAgICAgICAgICAgIHZpc2liaWxpdHk6ICd2aXNpYmxlJ1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgc3RhdGUoXG4gICAgICAgICAgICAgICAgJ3ZvaWQnLFxuICAgICAgICAgICAgICAgIHN0eWxlKHtcbiAgICAgICAgICAgICAgICAgICAgJ2JveC1zaGFkb3cnOiAnbm9uZScsXG4gICAgICAgICAgICAgICAgICAgIHZpc2liaWxpdHk6ICdoaWRkZW4nXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICB0cmFuc2l0aW9uKCd2b2lkID0+IG9wZW4taW5zdGFudCcsIGFuaW1hdGUoJzBtcycpKSxcbiAgICAgICAgICAgIHRyYW5zaXRpb24oJ29wZW4taW5zdGFudCA9PiB2b2lkJywgYW5pbWF0ZShvcGVuU3RhdGVBbmltYXRpb24pKSxcbiAgICAgICAgICAgIHRyYW5zaXRpb24oJ3ZvaWQgPT4gb3Blbi1sZWZ0JywgW1xuICAgICAgICAgICAgICAgIGFuaW1hdGUoJzBtcycsIHN0eWxlKHsgdHJhbnNmb3JtOiAndHJhbnNsYXRlM2QoLTEwMCUsIDAsIDApJyB9KSksXG4gICAgICAgICAgICAgICAgYW5pbWF0ZShvcGVuU3RhdGVBbmltYXRpb24pXG4gICAgICAgICAgICBdKSxcbiAgICAgICAgICAgIHRyYW5zaXRpb24oJ29wZW4tbGVmdCA9PiB2b2lkJywgW1xuICAgICAgICAgICAgICAgIGFuaW1hdGUob3BlblN0YXRlQW5pbWF0aW9uLCBzdHlsZSh7IHRyYW5zZm9ybTogJ3RyYW5zbGF0ZTNkKC0xMDAlLCAwLCAwKScgfSkpXG4gICAgICAgICAgICBdKSxcbiAgICAgICAgICAgIHRyYW5zaXRpb24oJ3ZvaWQgPT4gb3Blbi1yaWdodCcsIFtcbiAgICAgICAgICAgICAgICBhbmltYXRlKCcwbXMnLCBzdHlsZSh7IHRyYW5zZm9ybTogJ3RyYW5zbGF0ZTNkKDEwMCUsIDAsIDApJ30pKSxcbiAgICAgICAgICAgICAgICBhbmltYXRlKG9wZW5TdGF0ZUFuaW1hdGlvbilcbiAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgdHJhbnNpdGlvbignb3Blbi1yaWdodCA9PiB2b2lkJywgW1xuICAgICAgICAgICAgICAgIGFuaW1hdGUob3BlblN0YXRlQW5pbWF0aW9uLCBzdHlsZSh7IHRyYW5zZm9ybTogJ3RyYW5zbGF0ZTNkKDEwMCUsIDAsIDApJyB9KSlcbiAgICAgICAgICAgIF0pXG4gICAgICAgIF0pXG4gICAgXSxcbiAgICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcbiAgICBwcm92aWRlcnM6IFt7cHJvdmlkZTogRHJhd2VyLCB1c2VFeGlzdGluZzogZm9yd2FyZFJlZigoKSA9PiBNZW51RHJhd2VyKX1dXG59KVxuZXhwb3J0IGNsYXNzIE1lbnVEcmF3ZXIgZXh0ZW5kcyBEcmF3ZXIgaW1wbGVtZW50cyBBZnRlckNvbnRlbnRJbml0IHtcbiAgICBwcml2YXRlIF9wcmV2aW91c1RoZW1lOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcblxuICAgIEBDb250ZW50Q2hpbGQoRHJhd2VyVG9vbGJhciwge3N0YXRpYzogZmFsc2V9KVxuICAgIHRvb2xiYXI6IERyYXdlclRvb2xiYXI7XG5cbiAgICAvKiogU2V0cyBtZW51IHN0eWxlIG9mIHRoZSBkcmF3ZXIuIENob29zZSBmcm9tOiBgJ2RhcmstdGhlbWUnYCAqL1xuICAgIEBJbnB1dCgpXG4gICAgZ2V0IG1lbnVUaGVtZSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWVudVRoZW1lO1xuICAgIH1cblxuICAgIHNldCBtZW51VGhlbWUobWVudVN0eWxlOiBzdHJpbmcpIHtcbiAgICAgICAgdmFsaWRhdGVNZW51RHJhd2VyVGhlbWUobWVudVN0eWxlKTtcblxuICAgICAgICB0aGlzLl9zZXRUaGVtZUNsYXNzKHRoaXMuX3RoZW1lQ2xhc3MobWVudVN0eWxlKSk7XG4gICAgICAgIHRoaXMuX3ByZXZpb3VzVGhlbWUgPSB0aGlzLl9tZW51VGhlbWU7XG4gICAgICAgIHRoaXMuX21lbnVUaGVtZSA9IG1lbnVTdHlsZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9tZW51VGhlbWU6IHN0cmluZztcblxuICAgIEBIb3N0QmluZGluZygnY2xhc3MuaGMtbWVudS1kcmF3ZXInKVxuICAgIF9ob3N0Q2xhc3MgPSB0cnVlO1xuXG4gICAgY29uc3RydWN0b3IoZWxlbWVudFJlZjogRWxlbWVudFJlZiwgcHJpdmF0ZSByZW5kZXJlcjogUmVuZGVyZXIyKSB7XG4gICAgICAgIHN1cGVyKGVsZW1lbnRSZWYpO1xuICAgICAgICB0aGlzLm1lbnVUaGVtZSA9ICdkYXJrLXRoZW1lJztcbiAgICB9XG5cbiAgICBuZ0FmdGVyQ29udGVudEluaXQoKSB7XG4gICAgICAgIHN1cGVyLm5nQWZ0ZXJDb250ZW50SW5pdCgpO1xuXG4gICAgICAgIGlmICh0aGlzLnRvb2xiYXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5hZGRDbGFzcyh0aGlzLmVsZW1lbnRSZWYubmF0aXZlRWxlbWVudCwgJ2hjLWRyYXdlci10b29sYmFyLXZpc2libGUnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIucmVtb3ZlQ2xhc3ModGhpcy5lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQsICdoYy1kcmF3ZXItdG9vbGJhci12aXNpYmxlJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIF90aGVtZUNsYXNzKG1lbnVTdHlsZTogc3RyaW5nKSB7XG4gICAgICAgIHJldHVybiBgaGMtbWVudS1kcmF3ZXItJHttZW51U3R5bGV9YDtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9zZXRUaGVtZUNsYXNzKGNsYXNzTmFtZTogc3RyaW5nKSB7XG4gICAgICAgIGlmICh0aGlzLl9wcmV2aW91c1RoZW1lICE9PSBjbGFzc05hbWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9wcmV2aW91c1RoZW1lIHx8IHRoaXMuX21lbnVUaGVtZSkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIucmVtb3ZlQ2xhc3ModGhpcy5lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQsIHRoaXMuX3ByZXZpb3VzVGhlbWUgfHwgdGhpcy5tZW51VGhlbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5hZGRDbGFzcyh0aGlzLmVsZW1lbnRSZWYubmF0aXZlRWxlbWVudCwgY2xhc3NOYW1lKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiJdfQ==