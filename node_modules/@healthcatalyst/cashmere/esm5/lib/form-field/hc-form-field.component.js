/**
 * @fileoverview added by tsickle
 * Generated from: lib/form-field/hc-form-field.component.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, ContentChild, ContentChildren, HostBinding, QueryList, ViewEncapsulation, Input, ElementRef } from '@angular/core';
import { HcFormControlComponent } from './hc-form-control.component';
import { HcErrorComponent } from './hc-error.component';
import { HcPrefixDirective } from './hc-prefix.directive';
import { HcSuffixDirective } from './hc-suffix.directive';
import { HcLabelComponent } from './hc-label.component';
import { parseBooleanAttribute } from '../util';
import { InputDirective } from '../input/input.directive';
import { takeUntil } from 'rxjs/operators';
import { Subject } from 'rxjs';
/**
 * @return {?}
 */
export function getControlMissing() {
    return new Error("HcFormField must contain a component that extends HcFormControl");
}
/**
 * Container for form fields that applies Cashmere styling and behavior
 */
var HcFormFieldComponent = /** @class */ (function () {
    function HcFormFieldComponent(_elementRef) {
        this._elementRef = _elementRef;
        this._inline = false;
        this._tight = false;
        this.unsubscribe$ = new Subject();
        this._classHcFormFieldClass = true;
    }
    Object.defineProperty(HcFormFieldComponent.prototype, "_disabledClass", {
        get: /**
         * @return {?}
         */
        function () {
            if (this._inputChildren.length > 0) {
                return this._inputChildren.first.disabled;
            }
            else {
                return this._control._isDisabled;
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(HcFormFieldComponent.prototype, "hasLabel", {
        /** Read-only boolean value of whether the form field has an associated label element */
        get: /**
         * Read-only boolean value of whether the form field has an associated label element
         * @return {?}
         */
        function () {
            return !!this._labelChildren.length;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(HcFormFieldComponent.prototype, "hasInput", {
        /** Read-only boolean value of whether the form field has an input element */
        get: /**
         * Read-only boolean value of whether the form field has an input element
         * @return {?}
         */
        function () {
            return !!this._inputChildren.length;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(HcFormFieldComponent.prototype, "inline", {
        /** Whether the form elements should be stacked (default), or inline */
        get: /**
         * Whether the form elements should be stacked (default), or inline
         * @return {?}
         */
        function () {
            return this._inline;
        },
        set: /**
         * @param {?} isInline
         * @return {?}
         */
        function (isInline) {
            this._inline = parseBooleanAttribute(isInline);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(HcFormFieldComponent.prototype, "tight", {
        /** If true, condense the default padding on all included elements and reduce the font size. *Defaults to `false`.*  */
        get: /**
         * If true, condense the default padding on all included elements and reduce the font size. *Defaults to `false`.*
         * @return {?}
         */
        function () {
            return this._tight;
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._tight = parseBooleanAttribute(value);
            this._updateTightControls();
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @return {?}
     */
    HcFormFieldComponent.prototype.ngAfterContentInit = /**
     * @return {?}
     */
    function () {
        var _this = this;
        if (!this._control) {
            throw getControlMissing();
        }
        else {
            this._updateTightControls();
            // Pass the current tight setting to controls that are added dynamically to the FormField
            this._controls.changes.pipe(takeUntil(this.unsubscribe$)).subscribe((/**
             * @return {?}
             */
            function () { return _this._updateTightControls(); }));
        }
    };
    /**
     * @return {?}
     */
    HcFormFieldComponent.prototype.ngOnDestroy = /**
     * @return {?}
     */
    function () {
        this.unsubscribe$.next();
        this.unsubscribe$.complete();
    };
    /**
     * @return {?}
     */
    HcFormFieldComponent.prototype._updateTightControls = /**
     * @return {?}
     */
    function () {
        var _this = this;
        if (this._controls) {
            this._controls.forEach((/**
             * @param {?} control
             * @return {?}
             */
            function (control) {
                control.tight = _this._tight;
            }));
        }
    };
    /**
     * @return {?}
     */
    HcFormFieldComponent.prototype.getConnectedOverlayOrigin = /**
     * @return {?}
     */
    function () {
        return this._elementRef;
    };
    /**
     * @return {?}
     */
    HcFormFieldComponent.prototype._shouldShowErrorMessages = /**
     * @return {?}
     */
    function () {
        return (this._control._errorState &&
            ((this._errorChildren && this._errorChildren.length > 0) ||
                (!!this._control._errorMessage && this._control._errorMessage.length > 0)));
    };
    HcFormFieldComponent.decorators = [
        { type: Component, args: [{
                    selector: 'hc-form-field',
                    template: "<div\n    [class.hc-form-field-wrapper-inline]=\"inline\"\n    [class.hc-form-field-wrapper]=\"!inline\"\n    [class.hc-form-field-no-label]=\"!hasLabel\"\n    [class.hc-form-field-wrapper-tight]=\"tight\" >\n    <span *ngIf=\"hasLabel\" [ngClass]=\"inline ? 'hc-form-field-label-wrapper-inline' : 'hc-form-field-label-wrapper'\" [class.hc-form-field-label-wrapper-tight]=\"tight\">\n        <label [ngClass]=\"inline ? 'hc-form-field-label-inline' : 'hc-form-field-label'\" [class.hc-form-field-label-tight]=\"tight\" [attr.for]=\"_control._componentId\">\n            <ng-content select=\"hc-label\"></ng-content>\n            <span class=\"hc-required-marker\" aria-hidden=\"true\" *ngIf=\"_control._isRequired && !_control._isDisabled\">&nbsp;*</span>\n        </label>\n    </span>\n    <div class=\"hc-form-field-content-wrapper\">\n\n        <ng-content select=\"hc-label-ext\"></ng-content>\n\n        <div\n            *ngIf=\"hasInput\"\n            [class.hc-form-field-flex]=\"!inline\"\n            [class.hc-form-field-flex-inline]=\"inline\"\n            [class.hc-form-field-invalid]=\"_shouldShowErrorMessages()\"\n        >\n            <div class=\"hc-form-field-prefix\" *ngIf=\"_prefixChildren.length\">\n                <ng-content select=\"[hcPrefix]\"></ng-content>\n            </div>\n            <div #inputs class=\"hc-form-field-infix\" [class.hc-form-field-infix-tight]=\"tight\">\n                <ng-content select=\"[hcInput]\"></ng-content>\n            </div>\n            <div class=\"hc-form-field-suffix\" *ngIf=\"_suffixChildren.length\">\n                <ng-content select=\"[hcSuffix]\"></ng-content>\n            </div>\n        </div>\n\n        <div\n            *ngIf=\"!hasInput\"\n            [class.hc-form-field-non-input]=\"!inline\"\n            [class.hc-form-field-non-input-inline]=\"inline\"\n            [class.hc-form-field-non-input-inline-tight]=\"inline && tight\"\n            [class.hc-form-field-invalid]=\"_shouldShowErrorMessages()\"\n        >\n            <ng-content></ng-content>\n        </div>\n        <div class=\"hc-form-field-error-wrapper\" *ngIf=\"_shouldShowErrorMessages()\">\n            <hc-error *ngIf=\"_control._errorMessage && _control._errorMessage.length\">{{ _control._errorMessage }}</hc-error>\n            <ng-content select=\"hc-error\"></ng-content>\n        </div>\n    </div>\n</div>\n",
                    encapsulation: ViewEncapsulation.None,
                    styles: [".hc-form-field{position:relative;text-align:left;font-size:inherit;font-family:'Open Sans','Helvetica Neue',Helvetica,Arial,sans-serif;font-weight:400;line-height:1.5;-webkit-box-orient:inherit;-webkit-box-direction:inherit;flex-direction:inherit}.hc-form-field-wrapper{position:relative;padding-bottom:1.525em;-webkit-box-orient:inherit;-webkit-box-direction:inherit;flex-direction:inherit}.hc-form-field-wrapper-inline{display:-webkit-inline-box;display:inline-flex;width:100%;padding-bottom:inherit}.hc-form-field-wrapper-tight{padding-bottom:10px}.hc-form-field-content-wrapper{display:-webkit-box;display:flex;-webkit-box-orient:inherit;-webkit-box-direction:inherit;flex-direction:inherit;flex-wrap:wrap;width:100%}.hc-form-field-flex{display:-webkit-inline-box;display:inline-flex;-webkit-box-align:baseline;align-items:baseline;box-sizing:border-box;width:100%;border:1px solid #ccc;box-shadow:inset .5px .5px 0 #ccc,inset -.5px -.5px 0 #ccc;background:#fff}.hc-form-field-disabled .hc-form-field-flex{cursor:not-allowed;border:1px solid #e0e0e0;box-shadow:inset .5px .5px 0 #e0e0e0,inset -.5px -.5px 0 #e0e0e0;background-color:#f0f3f6;color:#adadad}.hc-form-field-flex-inline{display:-webkit-inline-box;display:inline-flex;-webkit-box-align:center;align-items:center;box-sizing:border-box;border:1px solid #ccc;box-shadow:inset .5px .5px 0 #ccc,inset -.5px -.5px 0 #ccc;background:#fff}.hc-form-field-disabled .hc-form-field-flex-inline{cursor:not-allowed;border:1px solid #e0e0e0;box-shadow:inset .5px .5px 0 #e0e0e0,inset -.5px -.5px 0 #e0e0e0;background-color:#f0f3f6;color:#adadad}.hc-form-field-invalid.hc-form-field-flex,.hc-form-field-invalid.hc-form-field-flex-inline{border:1px solid #cc2027;box-shadow:inset .5px .5px 0 #cc2027,inset -.5px -.5px 0 #cc2027}.hc-form-field-non-input{display:-webkit-inline-box;display:inline-flex;-webkit-box-orient:inherit;-webkit-box-direction:inherit;flex-direction:inherit;width:100%}.hc-form-field-non-input-inline{display:-webkit-inline-box;display:inline-flex;-webkit-box-flex:0;flex:0 0 100%;min-height:35px;-webkit-box-align:center;align-items:center}.hc-form-field-non-input-inline-tight{min-height:auto}.hc-form-field-prefix,.hc-form-field-suffix{white-space:nowrap;-webkit-box-flex:0;flex:none;position:relative}.hc-form-field-prefix .hc-icon,.hc-form-field-suffix .hc-icon{color:#a1a1a1;font-size:125%;line-height:1.5}.hc-form-field-wrapper-tight .hc-form-field-prefix .hc-icon,.hc-form-field-wrapper-tight .hc-form-field-suffix .hc-icon{line-height:1.3}.hc-form-field-disabled .hc-form-field-prefix,.hc-form-field-disabled .hc-form-field-suffix{opacity:.5}.hc-form-field-suffix{padding-right:7px}.hc-form-field-prefix{padding-left:7px}.hc-form-field-infix{display:block;position:relative;-webkit-box-flex:1;flex:auto;padding:.393em 10px}.hc-form-field-infix-tight{padding:.1965em 7px;font-size:.92857rem}.hc-form-field-label-wrapper{box-sizing:content-box;width:100%}.hc-form-field-label-wrapper .hc-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.hc-form-field-label-wrapper.hc-form-field-label-wrapper-tight{font-size:.92857rem}.hc-form-field-label-wrapper-inline{-webkit-box-flex:1;flex:1 0 auto;padding:7px 15px 0 0}.hc-form-field-label-wrapper-inline .hc-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.hc-form-field-label-wrapper-inline.hc-form-field-label-wrapper-tight{padding-top:0;line-height:1.9}.hc-form-field-label{display:block;width:100%;margin-bottom:3px;font:inherit;font-size:1rem;color:#333}.hc-form-field-label-extension{color:#6d6e70;font-size:.85714rem;margin-bottom:10px}.hc-form-field-label-inline{width:100%;font:inherit;font-size:1rem;color:#333}.hc-form-field-label-tight{font-size:.92857rem}.hc-form-field-error-wrapper{box-sizing:border-box;width:100%;overflow:hidden;margin-top:.53333em;font-size:75%}.hc-error{display:block;color:#cc2027}.hc-required-marker{color:#cc2027}@media all and (-ms-high-contrast:none){.hc-form-field-disabled-flex,.hc-form-field-flex,.hc-form-field-flex-inline,.hc-form-field-input-invalid{border-width:2px;box-shadow:none}}", ".hc-input{font:inherit;background:inherit;color:currentColor;border:none;outline:0;padding:0;margin:0;width:100%;max-width:100%;text-align:inherit}.hc-input[disabled]{cursor:not-allowed}.hc-input:-moz-ui-invalid{box-shadow:none}.hc-input::-ms-clear,.hc-input::-ms-reveal{display:none}.hc-input::-webkit-input-placeholder{color:#c0c5cc}.hc-input::-moz-placeholder{color:#c0c5cc}.hc-input::placeholder{color:#c0c5cc}.hc-input:-ms-input-placeholder{color:#c0c5cc}.hc-input::-ms-input-placeholder{color:#c0c5cc}textarea.hc-input{resize:vertical;overflow:auto;padding:2px 0;margin:-2px 0}"]
                }] }
    ];
    /** @nocollapse */
    HcFormFieldComponent.ctorParameters = function () { return [
        { type: ElementRef }
    ]; };
    HcFormFieldComponent.propDecorators = {
        _control: [{ type: ContentChild, args: [HcFormControlComponent, { static: false },] }],
        _controls: [{ type: ContentChildren, args: [HcFormControlComponent,] }],
        _errorChildren: [{ type: ContentChildren, args: [HcErrorComponent,] }],
        _prefixChildren: [{ type: ContentChildren, args: [HcPrefixDirective,] }],
        _suffixChildren: [{ type: ContentChildren, args: [HcSuffixDirective,] }],
        _inputChildren: [{ type: ContentChildren, args: [InputDirective,] }],
        _labelChildren: [{ type: ContentChildren, args: [HcLabelComponent,] }],
        _classHcFormFieldClass: [{ type: HostBinding, args: ['class.hc-form-field',] }],
        _disabledClass: [{ type: HostBinding, args: ['class.hc-form-field-disabled',] }],
        inline: [{ type: Input }],
        tight: [{ type: Input }]
    };
    return HcFormFieldComponent;
}());
export { HcFormFieldComponent };
if (false) {
    /**
     * @type {?}
     * @private
     */
    HcFormFieldComponent.prototype._inline;
    /**
     * @type {?}
     * @private
     */
    HcFormFieldComponent.prototype._tight;
    /**
     * @type {?}
     * @private
     */
    HcFormFieldComponent.prototype.unsubscribe$;
    /** @type {?} */
    HcFormFieldComponent.prototype._control;
    /** @type {?} */
    HcFormFieldComponent.prototype._controls;
    /** @type {?} */
    HcFormFieldComponent.prototype._errorChildren;
    /** @type {?} */
    HcFormFieldComponent.prototype._prefixChildren;
    /** @type {?} */
    HcFormFieldComponent.prototype._suffixChildren;
    /** @type {?} */
    HcFormFieldComponent.prototype._inputChildren;
    /** @type {?} */
    HcFormFieldComponent.prototype._labelChildren;
    /** @type {?} */
    HcFormFieldComponent.prototype._classHcFormFieldClass;
    /**
     * @type {?}
     * @private
     */
    HcFormFieldComponent.prototype._elementRef;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGMtZm9ybS1maWVsZC5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AaGVhbHRoY2F0YWx5c3QvY2FzaG1lcmUvIiwic291cmNlcyI6WyJsaWIvZm9ybS1maWVsZC9oYy1mb3JtLWZpZWxkLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUFBLE9BQU8sRUFFSCxTQUFTLEVBQ1QsWUFBWSxFQUNaLGVBQWUsRUFDZixXQUFXLEVBQ1gsU0FBUyxFQUNULGlCQUFpQixFQUNqQixLQUFLLEVBQ0wsVUFBVSxFQUViLE1BQU0sZUFBZSxDQUFDO0FBQ3ZCLE9BQU8sRUFBQyxzQkFBc0IsRUFBQyxNQUFNLDZCQUE2QixDQUFDO0FBQ25FLE9BQU8sRUFBQyxnQkFBZ0IsRUFBQyxNQUFNLHNCQUFzQixDQUFDO0FBQ3RELE9BQU8sRUFBQyxpQkFBaUIsRUFBQyxNQUFNLHVCQUF1QixDQUFDO0FBQ3hELE9BQU8sRUFBQyxpQkFBaUIsRUFBQyxNQUFNLHVCQUF1QixDQUFDO0FBQ3hELE9BQU8sRUFBQyxnQkFBZ0IsRUFBQyxNQUFNLHNCQUFzQixDQUFDO0FBQ3RELE9BQU8sRUFBQyxxQkFBcUIsRUFBQyxNQUFNLFNBQVMsQ0FBQztBQUM5QyxPQUFPLEVBQUMsY0FBYyxFQUFDLE1BQU0sMEJBQTBCLENBQUM7QUFDeEQsT0FBTyxFQUFDLFNBQVMsRUFBQyxNQUFNLGdCQUFnQixDQUFDO0FBQ3pDLE9BQU8sRUFBQyxPQUFPLEVBQUMsTUFBTSxNQUFNLENBQUM7Ozs7QUFFN0IsTUFBTSxVQUFVLGlCQUFpQjtJQUM3QixPQUFPLElBQUksS0FBSyxDQUFDLGlFQUFpRSxDQUFDLENBQUM7QUFDeEYsQ0FBQzs7OztBQUdEO0lBb0VJLDhCQUFvQixXQUF5QztRQUF6QyxnQkFBVyxHQUFYLFdBQVcsQ0FBOEI7UUE3RHJELFlBQU8sR0FBWSxLQUFLLENBQUM7UUFDekIsV0FBTSxHQUFZLEtBQUssQ0FBQztRQUN4QixpQkFBWSxHQUFHLElBQUksT0FB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Q0FBQzs7Z0JBdkdKLFNBQVMsU0FBQztvQkFDUCxRQUFRLEVBQUUsZUFBZTtvQkFDekIseTFFQUE2QztvQkFFN0MsYUFBYSxFQUFFLGlCQUFpQixDQUFDLElBQUk7O2lCQUN4Qzs7OztnQkF2QkcsVUFBVTs7OzJCQTZCVCxZQUFZLFNBQUMsc0JBQXNCLEVBQUUsRUFBQyxNQUFNLEVBQUUsS0FBSyxFQUFDOzRCQUVwRCxlQUFlLFNBQUMsc0JBQXNCO2lDQUV0QyxlQUFlLFNBQUMsZ0JBQWdCO2tDQUVoQyxlQUFlLFNBQUMsaUJBQWlCO2tDQUVqQyxlQUFlLFNBQUMsaUJBQWlCO2lDQUVqQyxlQUFlLFNBQUMsY0FBYztpQ0FFOUIsZUFBZSxTQUFDLGdCQUFnQjt5Q0FHaEMsV0FBVyxTQUFDLHFCQUFxQjtpQ0FHakMsV0FBVyxTQUFDLDhCQUE4Qjt5QkFvQjFDLEtBQUs7d0JBVUwsS0FBSzs7SUE2Q1YsMkJBQUM7Q0FBQSxBQXhHRCxJQXdHQztTQWxHWSxvQkFBb0I7Ozs7OztJQUM3Qix1Q0FBaUM7Ozs7O0lBQ2pDLHNDQUFnQzs7Ozs7SUFDaEMsNENBQTJDOztJQUUzQyx3Q0FDaUM7O0lBQ2pDLHlDQUM2Qzs7SUFDN0MsOENBQzRDOztJQUM1QywrQ0FDOEM7O0lBQzlDLCtDQUM4Qzs7SUFDOUMsOENBQzBDOztJQUMxQyw4Q0FDNEM7O0lBRTVDLHNEQUM4Qjs7Ozs7SUF5Q2xCLDJDQUFpRCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gICAgQWZ0ZXJDb250ZW50SW5pdCxcbiAgICBDb21wb25lbnQsXG4gICAgQ29udGVudENoaWxkLFxuICAgIENvbnRlbnRDaGlsZHJlbixcbiAgICBIb3N0QmluZGluZyxcbiAgICBRdWVyeUxpc3QsXG4gICAgVmlld0VuY2Fwc3VsYXRpb24sXG4gICAgSW5wdXQsXG4gICAgRWxlbWVudFJlZixcbiAgICBPbkRlc3Ryb3lcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge0hjRm9ybUNvbnRyb2xDb21wb25lbnR9IGZyb20gJy4vaGMtZm9ybS1jb250cm9sLmNvbXBvbmVudCc7XG5pbXBvcnQge0hjRXJyb3JDb21wb25lbnR9IGZyb20gJy4vaGMtZXJyb3IuY29tcG9uZW50JztcbmltcG9ydCB7SGNQcmVmaXhEaXJlY3RpdmV9IGZyb20gJy4vaGMtcHJlZml4LmRpcmVjdGl2ZSc7XG5pbXBvcnQge0hjU3VmZml4RGlyZWN0aXZlfSBmcm9tICcuL2hjLXN1ZmZpeC5kaXJlY3RpdmUnO1xuaW1wb3J0IHtIY0xhYmVsQ29tcG9uZW50fSBmcm9tICcuL2hjLWxhYmVsLmNvbXBvbmVudCc7XG5pbXBvcnQge3BhcnNlQm9vbGVhbkF0dHJpYnV0ZX0gZnJvbSAnLi4vdXRpbCc7XG5pbXBvcnQge0lucHV0RGlyZWN0aXZlfSBmcm9tICcuLi9pbnB1dC9pbnB1dC5kaXJlY3RpdmUnO1xuaW1wb3J0IHt0YWtlVW50aWx9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmltcG9ydCB7U3ViamVjdH0gZnJvbSAncnhqcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb250cm9sTWlzc2luZygpOiBFcnJvciB7XG4gICAgcmV0dXJuIG5ldyBFcnJvcihgSGNGb3JtRmllbGQgbXVzdCBjb250YWluIGEgY29tcG9uZW50IHRoYXQgZXh0ZW5kcyBIY0Zvcm1Db250cm9sYCk7XG59XG5cbi8qKiBDb250YWluZXIgZm9yIGZvcm0gZmllbGRzIHRoYXQgYXBwbGllcyBDYXNobWVyZSBzdHlsaW5nIGFuZCBiZWhhdmlvciAqL1xuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdoYy1mb3JtLWZpZWxkJyxcbiAgICB0ZW1wbGF0ZVVybDogJy4vaGMtZm9ybS1maWVsZC5jb21wb25lbnQuaHRtbCcsXG4gICAgc3R5bGVVcmxzOiBbJy4vaGMtZm9ybS1maWVsZC5jb21wb25lbnQuc2NzcycsICcuLi9pbnB1dC9pbnB1dC5zY3NzJ10sXG4gICAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZVxufSlcbmV4cG9ydCBjbGFzcyBIY0Zvcm1GaWVsZENvbXBvbmVudCBpbXBsZW1lbnRzIEFmdGVyQ29udGVudEluaXQsIE9uRGVzdHJveSB7XG4gICAgcHJpdmF0ZSBfaW5saW5lOiBib29sZWFuID0gZmFsc2U7XG4gICAgcHJpdmF0ZSBfdGlnaHQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBwcml2YXRlIHVuc3Vic2NyaWJlJCA9IG5ldyBTdWJqZWN0PHZvaWQ+KCk7XG5cbiAgICBAQ29udGVudENoaWxkKEhjRm9ybUNvbnRyb2xDb21wb25lbnQsIHtzdGF0aWM6IGZhbHNlfSlcbiAgICBfY29udHJvbDogSGNGb3JtQ29udHJvbENvbXBvbmVudDtcbiAgICBAQ29udGVudENoaWxkcmVuKEhjRm9ybUNvbnRyb2xDb21wb25lbnQpXG4gICAgX2NvbnRyb2xzOiBRdWVyeUxpc3Q8SGNGb3JtQ29udHJvbENvbXBvbmVudD47XG4gICAgQENvbnRlbnRDaGlsZHJlbihIY0Vycm9yQ29tcG9uZW50KVxuICAgIF9lcnJvckNoaWxkcmVuOiBRdWVyeUxpc3Q8SGNFcnJvckNvbXBvbmVudD47XG4gICAgQENvbnRlbnRDaGlsZHJlbihIY1ByZWZpeERpcmVjdGl2ZSlcbiAgICBfcHJlZml4Q2hpbGRyZW46IFF1ZXJ5TGlzdDxIY1ByZWZpeERpcmVjdGl2ZT47XG4gICAgQENvbnRlbnRDaGlsZHJlbihIY1N1ZmZpeERpcmVjdGl2ZSlcbiAgICBfc3VmZml4Q2hpbGRyZW46IFF1ZXJ5TGlzdDxIY1N1ZmZpeERpcmVjdGl2ZT47XG4gICAgQENvbnRlbnRDaGlsZHJlbihJbnB1dERpcmVjdGl2ZSlcbiAgICBfaW5wdXRDaGlsZHJlbjogUXVlcnlMaXN0PElucHV0RGlyZWN0aXZlPjtcbiAgICBAQ29udGVudENoaWxkcmVuKEhjTGFiZWxDb21wb25lbnQpXG4gICAgX2xhYmVsQ2hpbGRyZW46IFF1ZXJ5TGlzdDxIY0xhYmVsQ29tcG9uZW50PjtcblxuICAgIEBIb3N0QmluZGluZygnY2xhc3MuaGMtZm9ybS1maWVsZCcpXG4gICAgX2NsYXNzSGNGb3JtRmllbGRDbGFzcyA9IHRydWU7XG5cbiAgICBASG9zdEJpbmRpbmcoJ2NsYXNzLmhjLWZvcm0tZmllbGQtZGlzYWJsZWQnKVxuICAgIGdldCBfZGlzYWJsZWRDbGFzcygpIHtcbiAgICAgICAgaWYgKHRoaXMuX2lucHV0Q2hpbGRyZW4ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2lucHV0Q2hpbGRyZW4uZmlyc3QuZGlzYWJsZWQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY29udHJvbC5faXNEaXNhYmxlZDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKiBSZWFkLW9ubHkgYm9vbGVhbiB2YWx1ZSBvZiB3aGV0aGVyIHRoZSBmb3JtIGZpZWxkIGhhcyBhbiBhc3NvY2lhdGVkIGxhYmVsIGVsZW1lbnQgKi9cbiAgICBnZXQgaGFzTGFiZWwoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2xhYmVsQ2hpbGRyZW4ubGVuZ3RoO1xuICAgIH1cblxuICAgIC8qKiBSZWFkLW9ubHkgYm9vbGVhbiB2YWx1ZSBvZiB3aGV0aGVyIHRoZSBmb3JtIGZpZWxkIGhhcyBhbiBpbnB1dCBlbGVtZW50ICovXG4gICAgZ2V0IGhhc0lucHV0KCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9pbnB1dENoaWxkcmVuLmxlbmd0aDtcbiAgICB9XG5cbiAgICAvKiogV2hldGhlciB0aGUgZm9ybSBlbGVtZW50cyBzaG91bGQgYmUgc3RhY2tlZCAoZGVmYXVsdCksIG9yIGlubGluZSAqL1xuICAgIEBJbnB1dCgpXG4gICAgZ2V0IGlubGluZSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lubGluZTtcbiAgICB9XG5cbiAgICBzZXQgaW5saW5lKGlzSW5saW5lKSB7XG4gICAgICAgIHRoaXMuX2lubGluZSA9IHBhcnNlQm9vbGVhbkF0dHJpYnV0ZShpc0lubGluZSk7XG4gICAgfVxuXG4gICAgLyoqIElmIHRydWUsIGNvbmRlbnNlIHRoZSBkZWZhdWx0IHBhZGRpbmcgb24gYWxsIGluY2x1ZGVkIGVsZW1lbnRzIGFuZCByZWR1Y2UgdGhlIGZvbnQgc2l6ZS4gKkRlZmF1bHRzIHRvIGBmYWxzZWAuKiAgKi9cbiAgICBASW5wdXQoKVxuICAgIGdldCB0aWdodCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RpZ2h0O1xuICAgIH1cbiAgICBzZXQgdGlnaHQodmFsdWUpIHtcbiAgICAgICAgdGhpcy5fdGlnaHQgPSBwYXJzZUJvb2xlYW5BdHRyaWJ1dGUodmFsdWUpO1xuICAgICAgICB0aGlzLl91cGRhdGVUaWdodENvbnRyb2xzKCk7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBfZWxlbWVudFJlZjogRWxlbWVudFJlZjxIVE1MSW5wdXRFbGVtZW50Pikge31cblxuICAgIG5nQWZ0ZXJDb250ZW50SW5pdCgpOiB2b2lkIHtcbiAgICAgICAgaWYgKCF0aGlzLl9jb250cm9sKSB7XG4gICAgICAgICAgICB0aHJvdyBnZXRDb250cm9sTWlzc2luZygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlVGlnaHRDb250cm9scygpO1xuICAgICAgICAgICAgLy8gUGFzcyB0aGUgY3VycmVudCB0aWdodCBzZXR0aW5nIHRvIGNvbnRyb2xzIHRoYXQgYXJlIGFkZGVkIGR5bmFtaWNhbGx5IHRvIHRoZSBGb3JtRmllbGRcbiAgICAgICAgICAgIHRoaXMuX2NvbnRyb2xzLmNoYW5nZXMucGlwZSh0YWtlVW50aWwodGhpcy51bnN1YnNjcmliZSQpKS5zdWJzY3JpYmUoKCkgPT4gdGhpcy5fdXBkYXRlVGlnaHRDb250cm9scygpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG5nT25EZXN0cm95KCkge1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlJC5uZXh0KCk7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUkLmNvbXBsZXRlKCk7XG4gICAgfVxuXG4gICAgX3VwZGF0ZVRpZ2h0Q29udHJvbHMoKSB7XG4gICAgICAgIGlmICh0aGlzLl9jb250cm9scykge1xuICAgICAgICAgICAgdGhpcy5fY29udHJvbHMuZm9yRWFjaChjb250cm9sID0+IHtcbiAgICAgICAgICAgICAgICBjb250cm9sLnRpZ2h0ID0gdGhpcy5fdGlnaHQ7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldENvbm5lY3RlZE92ZXJsYXlPcmlnaW4oKTogRWxlbWVudFJlZiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbGVtZW50UmVmO1xuICAgIH1cblxuICAgIF9zaG91bGRTaG93RXJyb3JNZXNzYWdlcygpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIHRoaXMuX2NvbnRyb2wuX2Vycm9yU3RhdGUgJiZcbiAgICAgICAgICAgICgodGhpcy5fZXJyb3JDaGlsZHJlbiAmJiB0aGlzLl9lcnJvckNoaWxkcmVuLmxlbmd0aCA+IDApIHx8XG4gICAgICAgICAgICAgICAgKCEhdGhpcy5fY29udHJvbC5fZXJyb3JNZXNzYWdlICYmIHRoaXMuX2NvbnRyb2wuX2Vycm9yTWVzc2FnZS5sZW5ndGggPiAwKSlcbiAgICAgICAgKTtcbiAgICB9XG59XG4iXX0=